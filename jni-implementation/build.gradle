import static org.gradle.internal.os.OperatingSystem.current

plugins {
  id("dev.welbyseely.gradle-cmake-plugin") version "0.0.3"
}

final implGenerator = current().isWindows() ? "Visual Studio 17 2022" : "Unix Makefiles"

cmake {
  generator = implGenerator
  sourceFolder = file("$projectDir/src")
  buildSharedLibs = true
  setDef(['BUILD_LLAMA_CPP': 'ON', 'BUILD_SHARED_LIBS': 'ON', 'LLAMA_BUILD_EXAMPLES': 'OFF'])
  buildConfig = 'Release'
  buildClean = true
  if (current().isWindows()) {
    platform = 'x64'
  }
}
